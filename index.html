<!DOCTYPE html>
<html lang="mn">
<head>
    <meta charset="UTF-8">
    <title>–ú–∏–Ω–∏–π 15 –ù–æ–º üìö - –¢–æ–≥–ª–æ–æ–º</title>
    <style>
        :root {
            --primary: #ff7675;
            --secondary: #48dbfb;
            --success: #1dd1a1;
            --bg: #f7f1e3;
        }
        body { 
            font-family: 'Segoe UI', Arial, sans-serif; 
            background: var(--bg); 
            display: flex; 
            flex-direction: column; 
            align-items: center; 
            padding: 20px; 
            min-height: 100vh; 
            margin: 0; 
        }
        .score-board { 
            font-size: 36px; 
            font-weight: 900; 
            color: #d35400; 
            background: white; 
            padding: 15px 45px; 
            border-radius: 50px; 
            box-shadow: 0 10px 0 #e67e22; 
            margin-bottom: 30px; 
            border: 5px solid #f1c40f;
            animation: bounce 2s infinite;
        }
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-5px); }
        }

        /* –¶—ç—Å–Ω–∏–π –≥–æ—ë –∑–∞–≥–≤–∞—Ä */
        .menu-grid { 
            display: grid; 
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); 
            gap: 20px; 
            max-width: 1100px; 
            width: 100%; 
        }
        .book-card { 
            background: white; 
            padding: 25px; 
            border-radius: 30px; 
            text-align: center; 
            cursor: pointer; 
            border: 6px solid var(--secondary); 
            transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            box-shadow: 0 10px 0 var(--secondary);
        }
        .book-card:hover { 
            transform: scale(1.05) rotate(2deg); 
            border-color: var(--primary); 
            box-shadow: 0 10px 0 var(--primary);
        }
        .book-emoji { font-size: 55px; margin-bottom: 10px; display: block; }
        .book-title { font-size: 20px; font-weight: bold; color: #2c3e50; }

        /* –£–Ω—à–∏—Ö —Ö—ç—Å—ç–≥ */
        #reader { 
            display: none; 
            background: white; 
            width: 95%; 
            max-width: 950px; 
            padding: 50px; 
            border-radius: 60px; 
            box-shadow: 0 30px 60px rgba(0,0,0,0.1); 
            text-align: center; 
            border: 12px solid #f1c40f; 
            position: relative;
        }
        .word { 
            display: inline-block; 
            cursor: pointer; 
            padding: 8px 15px; 
            border-radius: 20px; 
            font-size: 44px; 
            font-weight: 800; 
            color: #2d3436; 
            margin: 8px; 
            background: #f1f2f6;
            transition: 0.2s;
            border-bottom: 6px solid #dfe4ea;
        }
        .word:hover { background: #ffeaa7; }
        .word.playing { 
            background-color: #f9ca24 !important; 
            transform: scale(1.2); 
            border-bottom-color: #f39c12;
        }
        .word.correct { 
            background-color: var(--success) !important; 
            color: white !important; 
            border-bottom-color: #10ac84;
        }
        
        .back-btn { 
            background: var(--primary); 
            color: white; 
            padding: 15px 30px; 
            border-radius: 30px; 
            border: none; 
            font-weight: bold; 
            cursor: pointer; 
            font-size: 20px;
            box-shadow: 0 6px 0 #ff5e57;
            margin-bottom: 30px;
        }
        .back-btn:active { transform: translateY(3px); box-shadow: 0 3px 0 #ff5e57; }

        .mic-btn { 
            padding: 25px 70px; 
            font-size: 28px; 
            background: var(--primary); 
            color: white; 
            border: none; 
            border-radius: 100px; 
            cursor: pointer; 
            margin-top: 40px; 
            font-weight: bold; 
            box-shadow: 0 10px 0 #ff5e57;
        }
        .mic-btn.active { 
            background: var(--success); 
            box-shadow: 0 10px 0 #10ac84;
            animation: pulse 1s infinite;
        }
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
    </style>
</head>
<body>

<div class="score-board">–û–ù–û–û: <span id="total-score">0</span> ‚≠ê</div>

<div id="menu" class="menu-grid"></div>

<div id="reader">
    <button class="back-btn" onclick="showMenu()">‚¨ÖÔ∏è –ë–£–¶–ê–•</button>
    <h1 id="reader-title" class="word" style="background:none; border:none; font-size: 60px; color: #e67e22; display: block; margin-bottom: 40px;"></h1>
    <div id="reader-content"></div>
    <button id="mic-btn" class="mic-btn" onclick="startListening()">üé§ –•–≠–õ–≠–≠–†–≠–ô</button>
    <div id="status" style="margin-top:20px; font-size:22px; color: #7f8c8d;">“Æ–≥ –¥—ç—ç—Ä—ç—ç –¥–∞—Ä–∞–∞–¥ –¥–∞–≥–∞–∞–¥ —Ö—ç–ª—ç—ç—Ä—ç–π!</div>
</div>

<script>
    const allStories = [
        { title: "–®–∏–Ω—ç –Ω–æ–º", emoji: "üìñ", text: "–•–∞—à —à–∏–Ω—ç –Ω–æ–º –∞–≤–ª–∞–∞. –®–∏–Ω—ç –Ω–æ–º–æ–æ —É–Ω—à–∏–≤. –ù–æ–º —É–Ω—à–∏—Ö —Å–∞–π—Ö–∞–Ω. –®“Ø—Ä—ç—ç –æ–ª–æ–Ω —à–∏–Ω—ç –Ω–æ–º —É–Ω—à—Å–∞–Ω. –ù–æ–º –∏—Ö —É–Ω—à–∞–∞—Ä–∞–π." }, //
        { title: "–ü–∏–Ω–≥–≤–∏–Ω", emoji: "üêß", text: "–ü–∏–Ω–≥–≤–∏–Ω –±–æ–ª ”©–º–Ω”©–¥ —Ç—É–π–ª–¥ –∞–º—å–¥–∞—Ä–¥–∞–≥ —à—É–≤—É—É. –≠–Ω—ç —à—É–≤—É—É–Ω—ã ”©–≤—á“Ø“Ø —Ü—ç—ç–∂ –Ω—å —Ü–∞–≥–∞–∞–Ω, –Ω—É—Ä—É—É –Ω—å —Ö–∞—Ä. –ü–∏–Ω–≥–≤–∏–Ω –¥–∞–ª–∞–≤—á—Ç–∞–π –±–æ–ª–æ–≤—á –Ω–∏—Å–¥—ç–≥–≥“Ø–π. –•–∞—Ä–∏–Ω —É—Å–∞–Ω–¥ —Å–∞–π–Ω —Å—ç–ª–¥—ç–≥. –ü–∏–Ω–≥–≤–∏–Ω –∑–∞–≥–∞—Å–∞–∞—Ä —Ö–æ–æ–ª–ª–æ–Ω–æ. –ü–∏–Ω–≥–≤–∏–Ω–∏–π–≥ –º–æ–Ω–≥–æ–ª—á—É—É–¥ –æ—Ü–æ–Ω —à—É–≤—É—É –≥—ç–¥—ç–≥." }, //
        { title: "–Æ “Ø—Å—ç–≥", emoji: "üî§", text: "–Æ “Ø—Å—ç–≥ –Æ–Ω–¥—ç–Ω, –Æ–º–∂–∞–≤, –Æ–º—á–∏–Ω, –Æ–º–∂–∏—Ä –≥—ç—Ö –º—ç—Ç —Ö“Ø–Ω–∏–π –Ω—ç—Ä–∏–π–Ω —ç—Ö—ç–Ω–¥ –±–∞–π–Ω–∞. –ë–∞—Å —é “Ø—Å—ç–≥ –Ω—å –û—é—É–Ω, –ê—é—É—Ä, –ê—é—É—à –≥—ç—Ö –º—ç—Ç –Ω—ç—Ä–∏–π–Ω –¥—É–Ω–¥ –æ—Ä–Ω–æ. –•–∞—Ä–∏–Ω —Ö“Ø–Ω–∏–π –Ω—ç—Ä–∏–π–Ω —Ç”©–≥—Å–≥”©–ª–¥ –æ—Ä–æ—Ö–≥“Ø–π." }, //
        { title: "–¢“Ø“Ø–≤—ç—Ä ”©–≥“Ø“Ø–ª–±—ç—Ä", emoji: "üìù", text: "–ë“Ø–≥–¥—ç—ç—Ä—ç—ç –Ω–æ–º–æ–æ —É–Ω—à—ä—è. –¢–æ–æ–≥–æ–æ —Ö—É—Ä–¥–∞–Ω –±–æ–¥—ä—ë. –•–∏—á—ç—ç–ª—ç—ç —Å–∞–π–Ω –¥–∞–≤—Ç—ä—è. –î—É—É —à“Ø–ª—ç–≥ —Å—É—Ä—ä—è. –¶—ç–≤—ç—Ä –∞–≥–∞–∞—Ä—Ç —è–≤—ä—è. –®”©–Ω–∏–π–Ω –æ–¥–¥—ã–≥ —Ö–∞—Ä—ä—è." }, //
        { title: "–ó–∞–∞–Ω—ã —Å–æ—ë–æ", emoji: "üêò", text: "–ó–∞–∞–Ω —Ö–∞–ª—É—É–Ω –æ—Ä–æ–Ω–¥ –∞–º—å–¥–∞—Ä–¥–∞–≥. –£—Ä—Ç —Ö–æ—ë—Ä —Å–æ—ë–æ—Ç–æ–π. –ó–∞–∞–Ω—ã —Å–æ—ë–æ–≥–æ–æ—Ä –≥–æ—ë–ª —á–∏–º—ç–≥–ª—ç–ª —Ö–∏–π–¥—ç–≥. –ó–∞–∞–Ω—ã —è—Å–∞–Ω —Å–∏–π–ª–±—ç—Ä –≥–æ—ë." }, //
        { title: "–Ø—Ä–≥—É–π", emoji: "üå∏", text: "–Ø—Ä–≥—É–π –±–æ–ª —Ü—ç–Ω—Ö—ç—Ä, —à–∞—Ä ”©–Ω–≥”©—Ç—ç–π —Ü—ç—Ü—ç–≥. –®–∞—Ä —è—Ä–≥—É–π —É—É–ª—ã–Ω —Ö—è—Ä–¥ —É—Ä–≥–∞–¥–∞–≥. –¶—ç–Ω—Ö—ç—Ä —è—Ä–≥—É–π —Ö—ç—ç—Ä —Ç–∞–ª, —É—É–ª—ã–Ω –±—ç–ª–¥ —É—Ä–≥–∞–Ω–∞. –Ø—Ä–≥—É–π–≥ —ç–º–∏–π–Ω —É—Ä–≥–∞–º–∞–ª –±–æ–ª–≥–æ–Ω –∞—à–∏–≥–ª–∞–¥–∞–≥. –Ø–º–∞–∞ —è—Ä–≥—É–π–¥ –¥—É—Ä—Ç–∞–π. –Ø—Ä–≥—É–π –∏–¥—Å—ç–Ω —è–º–∞–∞ —Å“Ø“Ø –∏—Ö—Ç—ç–π –±–∞–π–¥–∞–≥." }, //
        { title: "–ñ–∏–º—Å–Ω–∏–π –∑—É—É—à", emoji: "ü•ó", text: "–≠—ç–∂ –¥—ç–ª–≥“Ø“Ø—Ä—ç—ç—Å –æ–ª–æ–Ω —Ç”©—Ä–ª–∏–π–Ω –∂–∏–º—Å –∞–≤–ª–∞–∞. –ú”©–Ω—Ö–∂–∏–Ω –∞–ª–∏–º —É–≥–∞–∞–≤. –ê–Ω—É–∂–∏–Ω –≥–∞–¥–∏–ª –∞—Ä–∏–ª–≥–∞–≤. –ñ–∞—Ä–≥–∞–ª–º–∞–∞ –∂“Ø—Ä–∂ —Ö–∞–ª—å—Å–ª–∞–≤. –≠–Ω—Ö–∂–∏–Ω –∂–∏–º—Å—ç—ç —Ç–∞–≤–∞–≥–ª–∞–≤. –¢—ç–¥ —ç—ç–∂–¥—ç—ç —Å–∞–π–Ω —Ç—É—Å–∞–ª–∂—ç—ç. –≠—ç–∂ –Ω—å –∂–∏–º—Å–Ω–∏–π –∑—É—É—à —Ö–∏–≤. –ë“Ø–≥–¥ –∞–º—Ç–∞—Ä—Ö–∞–Ω –∏–¥—ç–≤." }, //
        { title: "–£–≥–∂", emoji: "üçº", text: "–•–∞–≤–∞—Ä –±–æ–ª–ª–æ–æ. –ú–∞–ª —Ç”©–ª–ª”©–∂ —ç—Ö–ª—ç–≤. –î–æ—Ä–∂ —Ç”©–ª –º–∞–ª–∞–∞ —É–≥–∂–ª–∞–∞. –•—É—Ä–≥–∞ –∏—à–∏–≥ —É–≥–∂ —Ö”©—Ö”©–∂ —Ü–∞–¥–∞–≤. –ú–∞–ª—ã–Ω —ç–≤—Ä—ç—ç—Ä —É–≥–∂ —Ö–∏–π–¥—ç–≥." }, //
        { title: "–ó–∞—Ä–∞–∞", emoji: "ü¶î", text: "–ó–∞—Ä–∞–∞ –∏—Ö —Ç–∞–π–≤–∞–Ω –∞–º—å—Ç–∞–Ω. –ò—Ö—ç–Ω—Ö –∑–∞—Ä–∞–∞ ”©–¥”©—Ä “Ø“Ø—Ä—ç–Ω–¥—ç—ç —É–Ω—Ç–∞–Ω–∞. –ó–∞—Ä–∏–º–¥–∞–∞ –∑“Ø–ª–≥—ç–Ω –¥—ç—ç—Ä —É–Ω—Ç–∞–Ω–∞. –ó–∞—Ä–∏–º–¥–∞–∞ —Ö–∞–¥–Ω—ã –¥–æ—Ä —É–Ω—Ç–∞–Ω–∞. –®”©–Ω”© –∑”©”©–ª”©–Ω –∑”©”©–ª”©–Ω –∞–ª—Ö–∞–Ω –∏–¥—ç—à —Ö–æ–æ–ª–æ–æ —Ö–∞–π–¥–∞–≥. –ù“Ø–¥ –Ω—å –º—É—É —Ö–∞—Ä–¥–∞–≥. –•–∞—Ä–∏–Ω “Ø–Ω—ç—Ä–ª—ç—Ö –±–æ–ª–æ–Ω —Å–æ–Ω—Å–æ—Ö–¥–æ–æ –∏—Ö —Å–∞–π–Ω." }, //
        { title: "–ê–∞–ª–∑", emoji: "üï∑Ô∏è", text: "–ê–∞–ª–∑ –±–æ–ª –Ω–∞–π–º–∞–Ω –Ω“Ø–¥—Ç—ç–π, –Ω–∞–π–º–∞–Ω —Ö”©–ª—Ç—ç–π —Ö–æ—Ä—Ö–æ–π. –ê–∞–ª–∑ —à“Ø–ª—Å—ç—ç—Ä—ç—ç —Ç–æ—Ä –Ω—ç—Ö–Ω—ç. –¢–æ—Ä–æ–Ω–¥–æ–æ –æ—Ä—Å–æ–Ω —Ö–æ—Ä—Ö–æ–π–≥ –∏–¥–¥—ç–≥. –ú–∞–Ω–∞–π –æ—Ä–æ–Ω–¥ –æ–ª–æ–Ω —Ç”©—Ä–ª–∏–π–Ω –∞–∞–ª–∑ –±–∏–π." }, //
        { title: "–ù–∞–≤—á", emoji: "üçÇ", text: "–ù–∞–º–∞—Ä –±–æ–ª–ª–æ–æ. –ù–∞–≤—á —É–Ω–∞–≤. –°—É—Ä–∞–≥—á–∏–¥ –æ–ª–æ–Ω —Ç”©—Ä–ª–∏–π–Ω –Ω–∞–≤—á —Ç“Ø“Ø–≤. –ù–∞–≤—á–∞–∞—Ä –Ω–∞–∞–º–∞–ª —Ö–∏–π–ª—ç—ç. –ß—É–ª—É—É–Ω, –£—á—Ä–∞–ª, –û—á –Ω–∞—Ä—ã–Ω –Ω–∞–∞–º–∞–ª –∏–ª“Ø“Ø —Å–∞–π—Ö–∞–Ω –±–æ–ª–æ–≤." }, //
        { title: "–ù–∞–∞–¥–∞–º", emoji: "üèá", text: "–•“Ø–º“Ø“Ø—Å –Ω–∞–∞–¥–º–∞–∞—Ä —Ö—É—Ä–¥–∞–Ω –º–æ—Ä–∏–æ —É—Ä–∞–ª–¥—É—É–ª–∞–≤. –ú–∏–Ω–∏–π ”©–≤”©”© —Ö–æ—ë—Ä —à“Ø–¥–ª—ç–Ω —Å–æ–π—Å–æ–Ω. –ê—Ö –¥“Ø“Ø —Ö–æ—ë—Ä —à“Ø–¥–ª—ç–Ω —É–Ω–∞–∞–¥ –Ω–∞–∞–¥–∞–º–¥ —É—Ä–∞–ª–¥–∞–≤. –ê—Ö—ã–Ω —É–Ω–∞—Å–∞–Ω —à“Ø–¥–ª—ç–Ω –∞–π—Ä–∞–≥–¥–∞–≤." },
        { title: "–¢–∞–≤–∞–Ω —Ö–æ—à—É—É –º–∞–ª", emoji: "üêë", text: "–ú–æ–Ω–≥–æ–ª —Ö“Ø–Ω —Ç–∞–≤–∞–Ω —Ö–æ—à—É—É –º–∞–ª ”©—Å–≥”©–¥”©–≥. –•–æ–Ω—å, –Ø–º–∞–∞ –º–∞–π–ª–¥–∞–≥. “Æ—Ö—ç—Ä –º”©”©—Ä–¥”©–≥. –¢—ç–º—ç—ç –±—É–π–ª–¥–∞–≥. –ú–æ—Ä—å —è–Ω—Ü–≥–∞–∞–¥–∞–≥." },
        { title: "–ú–∏–Ω–∏–π –≥—ç—Ä", emoji: "üè°", text: "–ú–∞–Ω–∞–π—Ö –∞–º –±“Ø–ª –≥—É—Ä–≤—É—É–ª–∞–∞. –ê–∞–≤ —ç—ç–∂ –±–∏–¥ –≥—É—Ä–∞–≤ –æ—Ä–æ–Ω —Å—É—É—Ü–∞–Ω–¥ –∞–º—å–¥–∞—Ä–¥–∞–≥. –ë–∏–¥ –≥—ç—Ä—ç—ç —Ü—ç–≤—ç—Ä–ª—ç—Ö –¥—É—Ä—Ç–∞–π." },
        { title: "–°—É—Ä–≥—É—É–ª—å", emoji: "üéí", text: "–ë–∏ –Ω—ç–≥–¥“Ø–≥—ç—ç—Ä –∞–Ω–≥–∏–¥ —Å—É—Ä–¥–∞–≥. –°—É—Ä–≥—É—É–ª—å–¥–∞–∞ —è–≤–∞—Ö –¥—É—Ä—Ç–∞–π. –û–ª–æ–Ω –Ω–∞–π–∑—Ç–∞–π –±–æ–ª—Å–æ–Ω. –ë–∞–≥—à –º–∞–∞–Ω—å –±–∏–¥—ç–Ω–¥ —Ö–∏—á—ç—ç–ª –∑–∞–∞–¥–∞–≥." }
    ];

    let totalScore = 0;
    let selectedWordElement = null;
    const recognition = new (window.SpeechRecognition || window.webkitSpeechRecognition)();
    recognition.lang = 'mn-MN';

    function initMenu() {
        const menu = document.getElementById('menu');
        menu.innerHTML = '';
        allStories.forEach((story, index) => {
            const card = document.createElement('div');
            card.className = 'book-card';
            card.onclick = () => loadStory(index);
            card.innerHTML = `<span class="book-emoji">${story.emoji}</span><div class="book-title">${story.title}</div>`;
            menu.appendChild(card);
        });
    }

    function loadStory(index) {
        document.getElementById('menu').style.display = 'none';
        document.getElementById('reader').style.display = 'block';
        const story = allStories[index];
        const titleEl = document.getElementById('reader-title');
        titleEl.innerText = story.title;
        titleEl.onclick = () => playVoice(story.title, titleEl);
        const content = document.getElementById('reader-content');
        content.innerHTML = '';
        story.text.split(' ').forEach(word => {
            const span = document.createElement('span');
            span.className = 'word';
            span.innerText = word + ' ';
            span.onclick = () => { selectedWordElement = span; playVoice(word, span); };
            content.appendChild(span);
        });
    }

    function showMenu() {
        document.getElementById('menu').style.display = 'grid';
        document.getElementById('reader').style.display = 'none';
        window.speechSynthesis.cancel();
    }

    function playVoice(w, el) {
        window.speechSynthesis.cancel();
        document.querySelectorAll('.word.playing').forEach(e => e.classList.remove('playing'));
        el.classList.add('playing');
        const utterance = new SpeechSynthesisUtterance(w.replace(/[.,-?]/g,"") + ".");
        const voices = window.speechSynthesis.getVoices();
        utterance.voice = voices.find(v => v.name.includes('Yesui')) || voices[0];
        utterance.lang = 'mn-MN';
        utterance.rate = 0.8;
        utterance.onend = () => el.classList.remove('playing');
        window.speechSynthesis.speak(utterance);
    }

    function startListening() {
        if(!selectedWordElement) return alert("“Æ–≥ –¥—ç—ç—Ä—ç—ç –¥–∞—Ä–Ω–∞ —É—É!");
        recognition.start();
        document.getElementById('mic-btn').classList.add('active');
    }

    recognition.onresult = (e) => {
        const result = e.results[0][0].transcript.toLowerCase().trim();
        const target = selectedWordElement.innerText.toLowerCase().trim().replace(/[.,-?]/g,"");
        document.getElementById('mic-btn').classList.remove('active');
        if(result.includes(target) || target.includes(result)) {
            selectedWordElement.classList.add('correct');
            totalScore += 10;
            document.getElementById('total-score').innerText = totalScore;
            document.getElementById('status').innerText = "–ú–£–ù–î–ê–ì –ë–ê–ô–ù–ê! üéâ";
        } else {
            document.getElementById('status').innerText = "–î–ê–•–ò–ê–î –•–≠–õ–≠–≠–†–≠–ô!";
        }
    };

    initMenu();
    window.speechSynthesis.onvoiceschanged = () => window.speechSynthesis.getVoices();
</script>
</body>
</html>

